# utils/config.py
import os
import streamlit as st

def _get_secret(key: str, default=None):
    """
    Try Streamlit secrets first, then environment variable, else default.
    """
    if key in st.secrets:
        return st.secrets[key]
    return os.getenv(key, default)

# --- Keys & Config ---
OPENAI_API_KEY = _get_secret("OPENAI_API_KEY")
ELEVENLABS_API_KEY = _get_secret("ELEVENLABS_API_KEY")
ELEVENLABS_VOICE_ID = _get_secret("ELEVENLABS_VOICE_ID")

RECORDING_SAMPLE_RATE = int(_get_secret("RECORDING_SAMPLE_RATE", "16000"))
RECORDING_CHANNELS = int(_get_secret("RECORDING_CHANNELS", "1"))
RECORDING_DURATION_SECONDS = int(_get_secret("RECORDING_DURATION_SECONDS", "20"))
TEMP_AUDIO_FILENAME = _get_secret("TEMP_AUDIO_FILENAME", "tmp.wav")
